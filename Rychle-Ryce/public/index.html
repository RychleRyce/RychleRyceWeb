<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rychl칠 R칳캜e - Zahradn칤 slu쬭y</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="style.css" rel="stylesheet">
</head>
<body>
    <!-- Naviga캜n칤 li코ta -->
    <nav class="navbar navbar-expand-lg navbar-light bg-success">
        <div class="container">
            <a class="navbar-brand text-white fw-bold" href="/">
                <i class="fas fa-seedling me-2"></i>Rychl칠 R칳캜e
            </a>
            <div class="navbar-nav ms-auto">
                <div id="user-info" class="d-none">
                    <span class="text-white me-3">V칤tejte, <span id="user-name"></span>!</span>
                    <button class="btn btn-outline-light btn-sm" onclick="logout()">Odhl치sit se</button>
                </div>
                <div id="auth-buttons">
                    <a href="/login" class="btn btn-outline-light btn-sm me-2">P콏ihl치sit se</a>
                    <a href="/register" class="btn btn-light btn-sm">Registrovat se</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero sekce -->
    <div class="hero-section">
        <div class="container text-center text-white">
            <h1 class="display-4 fw-bold mb-4">游꺔 Rychl칠 R칳캜e</h1>
            <p class="lead mb-5">Profesion치ln칤 zahradn칤 slu쬭y na dosah ruky</p>
            <div id="guest-content">
                <p class="mb-4">Vyberte si typ pr치ce a objednejte si na코e slu쬭y:</p>
            </div>
            <div id="customer-content" class="d-none">
                <p class="mb-4">Vyberte si typ pr치ce, kterou pot콏ebujete:</p>
            </div>
            <div id="worker-content" class="d-none">
                <p class="mb-4">Pod칤vejte se na dostupn칠 zak치zky ve sv칠m dashboardu</p>
                <a href="/worker-dashboard" class="btn btn-success btn-lg">P콏ej칤t do dashboardu</a>
            </div>
            <div id="admin-content" class="d-none">
                <p class="mb-4">Spravujte objedn치vky a brig치dn칤ky</p>
                <a href="/admin-panel" class="btn btn-warning btn-lg">Admin panel</a>
            </div>
        </div>
    </div>

    <!-- V칳b캩r slu쬰b -->
    <div class="container my-5" id="services-section">
        <div class="row g-4">
            <div class="col-md-6 col-lg-3">
                <div class="service-card" onclick="selectService('sekani_travy')">
                    <div class="service-icon">
                        <i class="fas fa-cut fa-3x text-success"></i>
                    </div>
                    <h4 class="mt-3">Sek치n칤 tr치vy</h4>
                    <p class="text-muted">Profesion치ln칤 sek치n칤 tr치vn칤k콢</p>
                    <p class="price-estimate"><strong>Cena: ~20 K캜/m</strong></p>
                </div>
            </div>
            
            <div class="col-md-6 col-lg-3">
                <div class="service-card" onclick="selectService('strhani_stromu')">
                    <div class="service-icon">
                        <i class="fas fa-tree fa-3x text-success"></i>
                    </div>
                    <h4 class="mt-3">St콏칤h치n칤 strom콢/ke콏콢</h4>
                    <p class="text-muted">Odborn칠 o콏ez치v치n칤 a tvarov치n칤</p>
                    <p class="price-estimate"><strong>Cena: ~500 K캜/strom</strong></p>
                </div>
            </div>
            
            <div class="col-md-6 col-lg-3">
                <div class="service-card" onclick="selectService('natrani_plotu')">
                    <div class="service-icon">
                        <i class="fas fa-paint-roller fa-3x text-success"></i>
                    </div>
                    <h4 class="mt-3">Nat칤r치n칤 plotu</h4>
                    <p class="text-muted">Ochrana a obnova plot콢</p>
                    <p class="price-estimate"><strong>Cena: ~15 K캜/m</strong></p>
                </div>
            </div>
            
            <div class="col-md-6 col-lg-3">
                <div class="service-card" onclick="selectService('jina_prace')">
                    <div class="service-icon">
                        <i class="fas fa-tools fa-3x text-success"></i>
                    </div>
                    <h4 class="mt-3">Jin치 pr치ce</h4>
                    <p class="text-muted">Dal코칤 zahradn칤 slu쬭y</p>
                    <p class="price-estimate"><strong>Cena: ~200 K캜/hod</strong></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-dark text-white py-4 mt-5">
        <div class="container text-center">
            <p>&copy; 2025 Rychl칠 R칳캜e. V코echna pr치va vyhrazena.</p>
            <p class="mb-0">
                <i class="fas fa-phone me-2"></i>+420 123 456 789
                <i class="fas fa-envelope ms-3 me-2"></i>info@rychleryce.cz
            </p>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    <script src="app.js"></script>
    <script>
        // Kontrola p콏ihl치코en칤 p콏i na캜ten칤 str치nky
        document.addEventListener('DOMContentLoaded', checkAuth);

        function selectService(serviceType) {
            // Zkontrolujeme, zda je u쬴vatel p콏ihl치코en jako z치kazn칤k
            fetch('/api/check-auth')
                .then(response => response.json())
                .then(data => {
                    if (data.authenticated && data.role === 'customer') {
                        // P콏esm캩rov치n칤 na objedn치vkov칳 formul치콏 s vybran칳m typem slu쬭y
                        window.location.href = `/order-form?service=${serviceType}`;
                    } else {
                        // Pokud nen칤 p콏ihl치코en jako z치kazn칤k, p콏esm캩rujeme na p콏ihl치코en칤
                        alert('Pro objedn치n칤 slu쬭y se mus칤te p콏ihl치sit jako z치kazn칤k.');
                        window.location.href = '/login';
                    }
                })
                .catch(error => {
                    console.error('Chyba p콏i kontrole p콏ihl치코en칤:', error);
                    window.location.href = '/login';
                });
        }
    </script>
</body>
</html>